<img
  style="
    width: 20%;
    height: 20%;
    margin: 0;
    position: absolute;
    top: 50%;
    left: 40%;
    -ms-transform: translateY(-50%);
    transform: translateY(-50%);
  "
  src="./static/img/loading-icon-black.svg"
/>
<script
  type="text/javascript"
  src="https://code.jquery.com/jquery-3.6.0.min.js"
></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.18.1/full/pyodide.js"></script>
<script>
  var pyodide;
  var jquery = $;
  async function load_inital() {
    pyodide = await loadPyodide({
      indexURL: "https://cdn.jsdelivr.net/pyodide/v0.18.1/full/",
    });
    await pyodide.loadPackage("jinja2");
    await pyodide.loadPackage("micropip");
    ui_script = await (await fetch("generate_ui.py")).text();
    await pyodide.runPythonAsync(ui_script);
    setTimeout(async function () {
      await pyodide.runPythonAsync(await (await fetch("version.py")).text());
    }, 1000);
  }
  window.onload = load_delay;
  function load_delay() {
    // Delay a section so the page scripts can load
    setTimeout(function () {
      load_inital();
    }, 1000);
  }
</script>
