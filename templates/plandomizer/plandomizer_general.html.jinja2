<style>
    .item-select.wide-select,
    .item-multiselect.wide-select {
        max-width: 400px;
    }

    .disabled-select {
        opacity: 0.3;
    }

    .select-order {
        align-items: center;
        justify-content: flex-start;
        margin-bottom: 8px;
    }

    .order-label {
        width: 70px;
    }

    .order-select {
        width: auto;
    }

    .rescue-label {
        width: 170px;
        text-align: right;
    }
</style>
<div class="tab-pane fade"
     id="nav-plando-general"
     role="tabpanel"
     aria-labelled-by="nav-plando-general-tab">
    <div class="row">
        <div class="col panel"
             style="border-right: 1px solid #e3e3e3;">
            <h2 class="title">World</h2>
            {# <div class="flex-container">
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                           title="Ensure the seed can be completed 101%. If unchecked, the seed may be beatable only.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="plando_101"
                                id="plando_101"
                                value="True"/>
                        101% Completable
                    </label>
                </div>
            </div> #}
            {# <div class="item-select wide-select">
                <p class="select-title">Spawn Location</p>
                <select name="plando_spawn_location"
                        id="plando_spawn_location"
                        class="form-select center-div"
                        aria-label="Spawn Location"
                        data-toggle="tooltip"
                        title="Choose the spawn location when starting the game.">
                    <option selected value="">
                        -- Randomize --
                    </option>
                    {% for spawn in plando_spawns %}
                        <option value="{{spawn["value"]}}">
                            {{spawn["name"]}}
                        </option>
                    {% endfor %}
                </select>
            </div> #}
            <div class="flex-container">
                <div class="item-multiselect wide-select">
                    <p class="select-title">Starting Kongs</p>
                    <div style="font-style: italic;">
                        If incompatible, what is chosen here will override your chosen starting Kong in the Progression tab!
                    </div>
                    <select name="plando_starting_kongs_selected"
                            id="plando_starting_kongs_selected"
                            data-toggle="tooltip"
                            title
                            class="form-select multi-select"
                            aria-label="Starting Kongs"
                            multiple
                            size="6">
                        <option selected value="">
                            Random Kong(s)
                        </option>
                        <option value="donkey">
                            Donkey
                        </option>
                        <option value="diddy">
                            Diddy
                        </option>
                        <option value="lanky">
                            Lanky
                        </option>
                        <option value="tiny">
                            Tiny
                        </option>
                        <option value="chunky">
                            Chunky
                        </option>
                    </select>
                </div>
            </div>
            <div class="item-select wide-select">
                <p class="select-title">Kong Cage Openers</p>
                {% for kong in ["diddy", "lanky", "tiny", "chunky"] %}
                    <label id="plando_kong_rescue_div_{{kong}}"
                        class="flex-container select-order">
                        <span class="rescue-label">{{kong.capitalize()}} cage opener:&nbsp;</span>
                        <select id="plando_kong_rescue_{{kong}}"
                                name="plando_kong_rescue_{{kong}}"
                                class="form-select order-select">
                            <option value="" selected">
                                -- Randomize --
                            </option>
                            {% if kong != "tiny" %}
                                <option value="donkey">
                                    Donkey
                                </option>
                            {% endif %}
                                <option value="diddy">
                                    Diddy
                                </option>
                            {% if kong != "tiny" %}
                                <option value="lanky">
                                    Lanky
                                </option>
                            {% endif %}
                            {% if kong != "tiny" %}
                                <option value="tiny">
                                    Tiny
                                </option>
                            {% endif %}
                                <option value="chunky">
                                    Chunky
                                </option>
                        </select>
                    </label>
                {% endfor %}
            </div>
            <div style="font-style: italic;">
                More plando settings in the works!
            </div>
        </div>
        <div class="col panel"
             style="border-left: 1px solid #e3e3e3;">
            <h2 class="title">Ordering</h2>
            <div class="item-select wide-select">
                <p class="select-title">Level Order</p>
                <div style="font-style: italic;">
                    This planned level order is ignored in non-complex level order shuffle if Kongs are not in the item pool!
                </div>
                {% for i in range(0, 7) %}
                    <label id="plando_level_order_div_{{i}}"
                        class="flex-container select-order">
                        <span class="order-label">Level {{i+1}}:</span>
                        <select id="plando_level_order_{{i}}"
                                name="plando_level_order_{{i}}"
                                data-toggle="tooltip"
                                title
                                class="form-select order-select">
                            <option value="" selected">
                                -- Randomize --
                            </option>
                            <option value="JungleJapes">
                                Jungle Japes
                            </option>
                            <option value="AngryAztec">
                                Angry Aztec
                            </option>
                            <option value="FranticFactory">
                                Frantic Factory
                            </option>
                            <option value="GloomyGalleon">
                                Gloomy Galleon
                            </option>
                            <option value="FungiForest">
                                Fungi Forest
                            </option>
                            <option value="CrystalCaves">
                                Crystal Caves
                            </option>
                            <option value="CreepyCastle">
                                Creepy Castle
                            </option>
                        </select>
                    </label>
                {% endfor %}
            </div>
            <div class="item-select wide-select">
                <p class="select-title">K. Rool Order</p>
                {% for i in range(0, 5) %}
                    <label id="plando_krool_order_div_{{i}}"
                        class="flex-container select-order">
                        <span class="order-label">Kong {{i+1}}:</span>
                        <select id="plando_krool_order_{{i}}"
                                name="plando_krool_order_{{i}}"
                                data-toggle="tooltip"
                                title
                                class="form-select order-select">
                            <option value="" selected">
                                -- Randomize --
                            </option>
                            <option value="donkey">
                                Donkey
                            </option>
                            <option value="diddy">
                                Diddy
                            </option>
                            <option value="lanky">
                                Lanky
                            </option>
                            <option value="tiny">
                                Tiny
                            </option>
                            <option value="chunky">
                                Chunky
                            </option>
                        </select>
                    </label>
                {% endfor %}
            </div>
            <div class="item-select wide-select">
                <p class="select-title">Helm Order</p>
                {% for i in range(0, 5) %}
                    <label id="plando_helm_order_div_{{i}}"
                        class="flex-container select-order">
                        <span class="order-label">Kong {{i+1}}:</span>
                        <select id="plando_helm_order_{{i}}"
                                name="plando_helm_order_{{i}}"
                                data-toggle="tooltip"
                                title
                                class="form-select order-select">
                            <option value="" selected">
                                -- Randomize --
                            </option>
                            <option value="donkey">
                                Donkey
                            </option>
                            <option value="diddy">
                                Diddy
                            </option>
                            <option value="lanky">
                                Lanky
                            </option>
                            <option value="tiny">
                                Tiny
                            </option>
                            <option value="chunky">
                                Chunky
                            </option>
                        </select>
                    </label>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<script>
    $('#plando_starting_kongs_selected option').mousedown(function(e) {
        $(this).prop('selected', !$(this).prop('selected'));
        // For some reason, jQuery will not trigger this event properly.
        document.getElementById('plando_starting_kongs_selected').dispatchEvent(new Event('change'));
    
        return false;
    });
</script>
