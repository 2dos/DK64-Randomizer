{% from 'macros.html' import list_selector, toggle_input, item_req_selector %}
{% from 'dropdown_multiselector.html' import dropdown_multiselector %}

<div class="container" style="margin-top: 20px;">
    <div class="row">
        <div class="col border panel">
            <h2 class="title">LEVEL ENTRY REQUIREMENTS</h2>
            <div class="flex-container">
                <div class="item-select">
                    <p class="select-title">B. Locker Option</p>
                    <div class="d-flex select-number-container" id="b_locker_number_container">
                        <select name="blocker_selection_behavior"
                                id="blocker_selection_behavior"
                                display_name="B. Locker Option"
                                class="form-select center-div"
                                aria-label="Randomization type"
                                data-toggle="tooltip"
                                title="Determines how B. Locker requirements are determined.">
                            <option id="pre_selected" value="pre_selected" title="Manually-defined Golden Banana requirements for each individual B. Locker.">
                                Pre-Selected
                            </option>
                            <option id="easy_random" value="easy_random">
                                Easy Random
                            </option>
                            <option id="normal_random" selected value="normal_random">
                                Normal Random
                            </option>
                            <option id="hard_random" value="hard_random">
                                Hard Random
                            </option>
                            <option id="chaos" value="chaos" title="B. Lockers will require items other than Golden Bananas to clear.">
                                Chaos B. Lockers
                            </option>
                        </select>
                        <input min="0"
                            max="255"
                            name="blocker_text"
                            id="blocker_text"
                            display_name="B. Locker Count"
                            class="form-control center-div"
                            type="number"
                            data-toggle="tooltip"
                            title="Amount of the item specified to beat the game."
                            default="1"
                            placeholder="1"/>
                        <div style="padding: 10px 5px">
                            <input class="customize"
                                type="button"
                                href="#"
                                id="blocker_customize"
                                data-bs-toggle="modal"
                                data-bs-target="#blocker_Modal"
                                data-toggle="tooltip"
                                title="Sets the pre-selected B. Locker Amounts"/>
                        </div>
                    </div>
                </div>
                <div class="modal fade"
                    id="blocker_Modal"
                    tabindex="-1"
                    aria-labelledby="blocker_ModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title title" id="blocker_ModalLabel">Define B. Locker Amounts</h3>
                                <button type="button"
                                        class="btn-close"
                                        data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="grid">
                                    {% for i in range(8) %}
                                        <div class="g-col-3 g-col-md-3">
                                            <p class="select-title">Level {{ i + 1 }}</p>
                                            <input class="form-control mx-auto text-center"
                                                min="0"
                                                max="200"
                                                name="blocker_{{ i }}"
                                                style="max-width: 50px"
                                                id="blocker_{{ i }}"
                                                value="{{ i+1 }}"
                                                type="number"
                                                data-toggle="tooltip"
                                                title="You can adjust each individual B Locker amount to any number between 0-200.&#10;Note that if you make the game impossible to beat the glitchless, the program does validate if a game is beatable glitchless by adjusting your B Locker settings.&#10;If you are unsure what to adjust the level values to, use the presets dropdown instead."/>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item-select">
                    <p class="select-title">Troff 'n' Scoff Option</p>
                    <div class="d-flex select-number-container" id="troff_number_container">
                        <select name="tns_selection_behavior"
                                id="tns_selection_behavior"
                                display_name="Troff 'n' Scoff Option"
                                class="form-select center-div"
                                aria-label="Randomization type"
                                data-toggle="tooltip"
                                title="Determines how Troff 'n' Scoff requirements are determined.">
                            <option id="pre_selected" value="pre_selected" title="Manually-defined Colored Banana requirements for each individual Troff 'n' Scoff">
                                Pre-Selected
                            </option>
                            <option id="normal_random" selected value="normal_random">
                                Normal Random
                            </option>
                            <option id="hard_random" value="hard_random">
                                Hard Random
                            </option>
                        </select>
                        <input min="0"
                            max="500"
                            name="troff_text"
                            id="troff_text"
                            display_name="Troff 'n' Scoff Count"
                            class="form-control center-div"
                            type="number"
                            data-toggle="tooltip"
                            title="The maximum number of Colored Bananas required to open a Troff 'n' Scoff."
                            default="1"
                            placeholder="1"/>
                        <div style="padding: 10px 5px">
                            <input class="customize"
                                type="button"
                                href="#"
                                id="troff_customize"
                                data-bs-toggle="modal"
                                data-bs-target="#troff_Modal"
                                data-toggle="tooltip"
                                title="Sets the pre-selected Troff 'n' Scoff Amounts"/>
                        </div>
                    </div>
                </div>
                <div class="modal fade"
                    id="troff_Modal"
                    tabindex="-1"
                    aria-labelledby="troff_ModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title title" id="troff_ModalLabel">Define T&S Amounts</h3>
                                <button type="button"
                                        class="btn-close"
                                        data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="grid">
                                    {% for i in range(8) %}
                                        <div class="g-col-3 g-col-md-3">
                                            <p class="select-title">Level {{ i + 1 }}</p>
                                            <input class="form-control mx-auto text-center"
                                                min="0"
                                                max="200"
                                                name="troff_{{ i }}"
                                                style="max-width: 50px"
                                                id="troff_{{ i }}"
                                                value="{{ i+1 }}"
                                                type="number"
                                                data-toggle="tooltip"
                                                title="You can adjust each individual Troff n Scoff amount to any number between 1-500.&#10;Note that if you make the game impossible to beat the glitchless, the program does validate if a game is beatable glitchless by adjusting your Troff n Scoff settings.&#10;If you are unsure what to adjust the level values to, use the presets dropdown instead."/>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-container">
                {{ toggle_input("maximize_helm_blocker", "Maximize Helm B. Locker", "Ensures that Level 8's B. Locker will always be at the maximum value.") }}
                <div class="spacer"></div>
            </div>
            <hr />
            <h2 class="title">ITEM REQUIREMENTS</h2>
            <div class="flex-container">
                <!-- Medals for Jetpac-->
                {{ item_req_selector("medal_jetpac_behavior", "medal_requirement", "Medals for Jetpac", 1, 255, "Determines how Jetpac requirements are determined.") }}
                <!-- Pearls for Mermaid -->
                {{ item_req_selector("pearl_mermaid_behavior", "mermaid_gb_pearls", "Pearls for Mermaid", 1, 255, "Determines how Mermaid check requirements are determined.") }}
                <!-- Fairies for Queen -->
                {{ item_req_selector("fairy_queen_behavior", "rareware_gb_fairies", "Fairies for Fairy Queen", 1, 255, "Determines how Rareware GB check requirements are determined.") }}
                <!-- Medal CB Requirement -->
                {{ item_req_selector("cb_medal_behavior_new", "medal_cb_req", "Colored Bananas for a Medal", 1, 100, "Determines how Medal requirements are determined.") }}
            </div>
        </div>
        <div class="col border panel">
            <h2 class="title">OVERWORLD REQUIREMENTS</h2>
            <div class="flex-container">
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="All lobbies will be open as if the key to K. Lumsy was already turned in.&#10;This does not affect K. Rool's ship.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="open_lobbies"
                                display_name="Open Lobbies"
                                value="True"/>
                        Open Lobbies
                    </label>
                </div>
                {% include 'complex-options/prog-slam-strength.html' %}
                {% include 'complex-options/switchsanity.html' %}
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                        title="Reduces the number of items offered in shops to a maximum of 3."
                        style="text-align: left">
                        <input class="form-check-input"
                            type="checkbox"
                            name="smaller_shops"
                            id="smaller_shops"
                            display_name="Smaller Shops"
                            value="True"/>
                        Smaller Shops
                    </label>
                </div>
                {{ toggle_input("shops_dont_cost", "Tooie-Style Shops", "Shops will not deduct coins from the player, but will require a certain amount of coins to purchase the item, akin to Banjo-Tooie's Jamjars silos.") }}
                {{ toggle_input("free_trade_setting", "Free Trade Agreement", "Allow Kongs to pick up items assigned to other kongs.")}}
            </div>
            <div class="flex-container">
                {{ dropdown_multiselector(remove_barriers, "remove_barriers", "Remove Barriers", "This will open a dropdown that will let you customize what barriers are removed.", 12, 1) }}
                <div class="item-select">
                    <p class="select-title">Galleon Water</p>
                    <select name="galleon_water"
                            id="galleon_water"
                            display_name="Galleon Water"
                            class="form-select center-div"
                            aria-label="Galleon Water"
                            data-toggle="tooltip"
                            title="Alter the water level in Galleon.">
                        <option selected id="lowered" value="lowered">Lowered</option>
                        <option id="raised" value="raised">Raised</option>
                        <option id="random" value="random">Random</option>
                    </select>
                </div>
                <div class="item-select">
                    <p class="select-title">Fungi Time</p>
                    <select name="fungi_time"
                            id="fungi_time"
                            class="form-select center-div"
                            aria-label="Fungi Time"
                            display_name="Fungi Time"
                            data-toggle="tooltip"
                            title="Alter the time of day in Fungi.">
                        <option selected id="day" value="day">Daytime Start</option>
                        <option id="night" value="night">Nighttime Start</option>
                        <option id="random" value="random">Random Start</option>
                        <option id="dusk" value="dusk" title="All time-specific gates are removed.">Dusk</option>
                        <option id="progressive" value="progressive" title="Time of day progressively changes, with a full day-night cycle taking 5 minutes.">Progressive</option>
                    </select>
                </div>
                <div class="item-select">
                    <p class="select-title">Random Shop Prices</p>
                    <select name="random_prices"
                            id="random_prices"
                            display_name="Random Shop Prices"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="All prices in shops are randomized to a random number.&#10;-Vanilla: Same cost as base game.&#10;-Free: All moves are free.&#10;-Low: Moves cost 1-4 coins most of the time. (Avg: 2.5)&#10;-Medium: Moves cost 1-8 coins most of the time. (Avg: 4.5)&#10;-High: Moves cost 1-12 coins most of the time. (Avg: 6.5)&#10;-Extreme: Moves cost 10+ coins most of the time. (Avg: 11, starting Shockwave required!)&#10;WARNING: Extreme Prices is an enormous strain on coin logic and is VERY difficult to fill with. Only pick this if you're confident your settings give access to enough coins early.">
                        <option value="vanilla">
                            Vanilla
                        </option>
                        <option value="free">
                            Free
                        </option>
                        <option selected value="low">
                            Low
                        </option>
                        <option value="medium">
                            Medium
                        </option>
                        <option value="high">
                            High
                        </option>
                        <option id="extreme_price_option" value="extreme">
                            Extreme
                        </option>
                    </select>
                </div>
                <div class="item-select">
                    <p class="select-title">Activate Bananaports</p>
                    <select name="activate_all_bananaports"
                            id="activate_all_bananaports"
                            class="form-select"
                            aria-label="Activate Bananaports"
                            display_name="Activate Bananaports"
                            data-toggle="tooltip"
                            title="Determines which (if any) bananaports are activated by default.&#10;-Off: Bananaports are off by default.&#10;-Isles Only: Only the Bananaports in Isles are on by default.&#10;-All: All Bananaports are on by default.">
                        <option selected id="off" value="off">
                            Off
                        </option>
                        <option id="isles" value="isles">
                            Isles Only
                        </option>
                        <option id="isles_inc_helm_lobby" value="isles_inc_helm_lobby">
                            Isles & Helm Lobby Only
                        </option>
                        <option id="all" value="all">
                            All
                        </option>
                    </select>
                </div>
                {{ dropdown_multiselector(faster_checks, "faster_checks", "Faster Checks", "This will open a dropdown that will let you customize what checks are sped up.", 12, 1) }}
                <div class="item-select">
                    <p class="select-title">Random Puzzle Solutions</p>
                    <select name="puzzle_rando_difficulty"
                            id="puzzle_rando_difficulty"
                            display_name="Random Puzzle Solutions"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="Shuffles the solutions to various puzzles in the game.">
                        <option value="off">
                            Off
                        </option>
                        <option value="easy">
                            Easy
                        </option>
                        <option selected value="medium">
                            Medium
                        </option>
                        <option value="hard">
                            Hard
                        </option>
                        <option value="chaos" title="Values picked can be any range between easy, medium and hard">
                            Chaos
                        </option>
                    </select>
                </div>
                <div class="spacer"></div>
            </div>
        </div>
    </div>
</div>