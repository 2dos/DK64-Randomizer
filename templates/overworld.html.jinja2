{% from 'macros.html.jinja2' import list_selector %}
<div class="container" style="margin-top: 20px;">
    <div class="row">
        <div class="col border panel">
            <h2 class="title">GLOBAL SETTINGS</h2>
            <div class="flex-container">
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                           title="This option makes the fairy camera and shockwave attack available from the start.&#10;Normally obtainable by visiting the Banana Fairy Queen with Tiny as Mini Monkey.">
                        <input class="form-check-input"
                               type="checkbox"
                               name="unlock_fairy_shockwave"
                               id="unlock_fairy_shockwave"
                               value="True"/>
                        Unlock Fairy Camera and Shockwave Attack
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                           title="Bonus Barrels are randomly chosen from the pool of available Bonus Barrels.">
                        <input class="form-check-input"
                               type="checkbox"
                               name="bonus_barrel_rando"
                               id="bonus_barrel_rando"
                               value="True"/>
                        Shuffle Bonus Barrels
                    </label>
                    {{ list_selector(minigames, "minigames_list", "MINIGAME SELECTOR", "This will open a popup that will let you customize what Bonus Games are in the pool.&#10;This defaults to All minigames.") }}
                    {# Remove end </div> as it's included in the macro for formatting #}
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="Bonus Barrels outside of Helm auto complete.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="bonus_barrel_auto_complete"
                                   id="bonus_barrel_auto_complete"
                                   value="True"/>
                            Auto Complete Bonus Barrels
                        </label>
                    </div>
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="All lobbies will be open as if the key to K. Lumsy was already turned in.&#10;This does not affect K. Rool's ship.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="open_lobbies"
                                   value="True"/>
                            Open Lobbies
                        </label>
                    </div>
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="Levels will have key elements of them pre-opened:&#10;- Jungle Japes coconut gates that lead to caves and feather gate to the giant tree area.&#10;- Angry Aztec door that connects the two portions of the level.&#10;- Frantic Factory gate to the right of the entrance.&#10;- Gloomy Galleon gate to the Lighthouse area (Shipyard area open by default).&#10;- Fungi Forest gates to the worm and hollow tree areas.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="open_levels"
                                   value="True"/>
                            Open Levels
                        </label>
                    </div>
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="All Replenishables in the game are randomized.&#10;*Homing Ammo, Regular Ammo, Oranges, Film, Crystals">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="randomize_pickups"
                                   value="True"/>
                            Randomize Pickups
                        </label>
                    </div>
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="Speeds up areas locked behind slow/high requirements:&#10;- Aztec: 5 Door Temple Switches Spawned&#10;- Factory: Prod Room On&#10;- Galleon: K Rool Ship Spawned&#10;- Galleon: Instruments open 5 Door Ship Permanently&#10;- Caves: 5 Door Igloo Pads Spawned">
                            <input class="form-check-input" type="checkbox" name="high_req" value="True"/>
                            Remove High Requirements
                        </label>
                    </div>
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="Speeds up several of the 'Slower' Golden Bananas in the game.">
                            <input class="form-check-input" type="checkbox" name="fast_gbs" value="True"/>
                            Fast GBs
                        </label>
                        <a href="https://github.com/2dos/DK64-Randomizer/wiki/Feature-Explanations#fast-golden-bananas"
                           target="_blank">
                            <img class="icon" src="./static/img/external_link.png">
                        </a>
                    </div>
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="Randomizes the amount of banana medals needed for Jetpac.&#10;Range is roughly 4 to 15 with an average of 10.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="random_medal_requirement"
                                   id="random_medal_requirement"
                                   value="True"/>
                            Randomize Medal Requirement
                        </label>
                    </div>
                    <div class="spacer"></div>
                </div>
            </div>
            <div class="col border panel">
                <h2 class="title">GAME LENGTH SETTINGS</h2>
                <h5 class="select-title">K-Rool Phase Length</h5>
                <div class="flex-container">
                    <div class="form-check form-switch item-switch center-flex">
                        <label data-toggle="tooltip"
                               title="Selects a random value from Slider to determine the number of K Rool Phases.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="krool_random"
                                   onchange="toggle_clicks()"
                                   id="krool_random"
                                   value="True"/>
                            Random Selection
                        </label>
                    </div>
                </div>
                <div>
                    <input type="text"
                           name="krool_phase_count"
                           id="krool_phase_count"
                           data-provide="slider"
                           data-slider-ticks="[1, 2, 3, 4, 5]"
                           data-slider-ticks-labels='["1", "2", "3", "4", "5"]'
                           data-slider-min="1"
                           data-slider-max="5"
                           data-slider-step="1"
                           data-slider-value="5"
                           style="width: 80%">
                </div>
                <hr>
                <h5 class="select-title">Helm Length</h5>
                <div class="flex-container">
                    <div class="form-check form-switch item-switch center-flex">
                        <label data-toggle="tooltip"
                               title="Selects a random value from Slider to determine the number of rooms that need to be completed in Hideout Helm.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="helm_random"
                                   onchange="toggle_clicks()"
                                   id="helm_random"
                                   value="True"/>
                            Random Selection
                        </label>
                    </div>
                </div>
                <div>
                    <input type="text"
                           name="helm_phase_count"
                           id="helm_phase_count"
                           data-provide="slider"
                           data-slider-ticks="[1, 2, 3, 4, 5]"
                           data-slider-ticks-labels='["1", "2", "3", "4", "5"]'
                           data-slider-min="1"
                           data-slider-max="5"
                           data-slider-step="1"
                           data-slider-value="5"
                           style="width: 80%">
                </div>
                <hr>
                <div data-toggle="tooltip"
                     title="Determines how many Keys are left to be collected to access K. Rool.&#10;i.e. Selecting '5' means 3 keys will be pre-turned in and you need 5 more.">
                    <h5 class="select-title">Keys required to beat K. Rool</h5>
                </div>
                <div class="flex-container">
                    <div class="form-check form-switch item-switch center-flex">
                        <label data-toggle="tooltip"
                               title="Required to get Key 8 from Helm to access K Rool or leave it up to chance.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="krool_access"
                                   id="krool_access"
                                   value="True"/>
                            Key 8 Required
                        </label>
                    </div>
                    <div class="form-check form-switch item-switch center-flex">
                        <label data-toggle="tooltip"
                               title="Selects a random value from Slider to determine how many Keys are pre-turned in.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="keys_random"
                                   id="keys_random"
                                   onchange="toggle_clicks()"
                                   value="True"/>
                            Random Selection
                        </label>
                    </div>
                </div>
                <div>
                    <input type="text"
                           name="krool_key_count"
                           id="krool_key_count"
                           data-provide="slider"
                           data-slider-ticks="[0, 1, 2, 3, 4, 5, 6, 7, 8]"
                           data-slider-ticks-labels='["0", "1", "2", "3", "4", "5", "6", "7", "8"]'
                           data-slider-min="0"
                           data-slider-max="8"
                           data-slider-step="1"
                           data-slider-value="8"
                           style="width: 80%">
                </div>
                <hr>
                <h5 class="select-title">Number of Starting Kongs</h5>
                <div class = "flex-container">
                    <div class="form-check form-switch item-switch center-flex">
                        <label data-toggle="tooltip"
                               title="Selects a random value from Slider to determine how many kongs you start with.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="starting_random"
                                   id="starting_random"
                                   onchange="toggle_clicks()"
                                   value="True"/>
                            Random Selection
                        </label>
                    </div>
                </div>
                <input type="text"
                       name="starting_kongs_count"
                       id="starting_kongs_count"
                       data-provide="slider"
                       data-slider-ticks="[1, 2, 3, 4, 5]"
                       data-slider-ticks-labels='["1", "2", "3", "4", "5"]'
                       data-slider-min="1"
                       data-slider-max="5"
                       data-slider-step="1"
                       data-slider-value="5"
                       style="width: 80%">
                <hr>
                <div class="flex-container">
                    <div class="form-check form-switch item-switch">
                        <label data-toggle="tooltip"
                               title="You do not need to collect 4 crowns to collect Key 8.">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="crown_door_open"
                                   value="True"/>
                            Open Crown Door
                        </label>
                    </div>
                    <div class="spacer"></div>
                </div>
                <div class="flex-container">
                    <div class="item-select">
                        <p class="select-title">Key 8 Door Requirements</p>
                        <select name="coin_door_open"
                                id="coin_door_open"
                                class="form-select center-div"
                                aria-label="Key 8 Door Requirements"
                                data-toggle="tooltip"
                                title="Determines Rareware/Nintendo Coin requirements to acquire Key 8 in Helm.&#10;-Need 0 Coins: You do not need to collect the Nintendo or Rareware coin.&#10;-Need Both Coins: You need to collect both the Nintendo and Rareware coins.&#10;-Need Rareware Coin Only: You only need the Rareware coin.&#10;-Need Nintendo Coin Only: You only need the Nintendo coin.">
                            <option selected id="need_zero" value="need_zero" title="">
                                Need 0 Coins
                            </option>
                            <option id="need_both" value="need_both">
                                Need Both Coins
                            </option>
                            <option id="need_rw" value="need_rw">
                                Need Rareware Coin Only
                            </option>
                            <option id="need_nin" value="need_nin">
                                Need Nintendo Coin Only
                            </option>
                        </select>
                    </div>
                    <div class="item-select">
                        <p class="select-title">Medals for Rareware Coin</p>
                        <input min="0"
                               max="40"
                               name="medal_requirement"
                               id="medal_requirement"
                               style="width: 15%;"
                               class="form-control center-div"
                               type="number"
                               data-toggle="tooltip"
                               title="Amount of Banana Medals Required for Jetpac/Rareware Coin."
                               default="15"
                               placeholder="15"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $('.nav-tabs').click(function() {
            setTimeout(() => {
                $('#krool_phase_count').slider("relayout");
                $('#krool_key_count').slider("relayout");
                $('#starting_kongs_count').slider("relayout");
                $('#helm_phase_count').slider("relayout");
                toggle_clicks()
            }, 200);
        })
        
        function toggle_clicks() {
            if (document.getElementById("krool_random").checked === true) {
                $("#krool_phase_count").slider("disable")
            } else {
                $("#krool_phase_count").slider("enable")
            }
            if (document.getElementById("helm_random").checked === true) {
                $("#helm_phase_count").slider("disable")
            } else {
                $("#helm_phase_count").slider("enable")
            }
            if (document.getElementById("keys_random").checked === true) {
                $("#krool_key_count").slider("disable")
            } else {
                $("#krool_key_count").slider("enable")
            }
            if (document.getElementById("starting_random").checked === true) {
                $("#starting_kongs_count").slider("disable")
            } else {
                $("#starting_kongs_count").slider("enable")
            }
        }
        $(function() {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
