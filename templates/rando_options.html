{% from 'macros.html' import list_selector, toggle_input, switchsanity_option %}
{% from 'dropdown_multiselector.html' import dropdown_multiselector %}
<div class="container" style="margin-top: 20px;">
    <div class="row">
        <div class="col border panel">
            <h2 class="title">SHUFFLED LOCATIONS</h2>
            <div class="flex-container">
                {{ toggle_input("random_patches", "Random Dirt Patch Locations", "Dirt Patches for Rainbow Coins are in random locations.", False, "Dirt Patches") }}
                {{ toggle_input("coin_rando", "Random Banana Coin Locations", "Shuffle the locations of coins within each Level.", False, "Banana Coins") }}
                {{ toggle_input("race_coin_rando", "Random Race Coin Locations", "Shuffle the locations of race coins to be placed inside levels instead of courses.", False, "Race Coins") }}
                {{ toggle_input("random_fairies", "Random Banana Fairy Locations", "Fairy checks are in random locations.", False, "Banana Fairies") }}
                {{ toggle_input("crown_placement_rando", "Random Battle Crown Pad Locations", "Crown Locations are randomized. There's 1 in each level, except Isles which has two.", False, "Battle Crowns") }}
                {{ toggle_input("random_crates", "Random Melon Crate Locations", "Melon Crate Locations are randomized.", False, "Melon Crates") }}
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="Colored Banana Locations are randomized.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="cb_rando_enabled"
                                id="cb_rando_enabled"
                                display_name="Randomize CB Locations"
                                value="True"/>
                        Colored Bananas
                    </label>
                    {{ list_selector(cb_rando_levels, "cb_rando_list", "LEVELS", "This will open a popup that will let you customize what levels have CB rando in the game.&#10;This defaults to All options.", 8, 1) }}
                {# Remove end </div> as it's included in the macro for formatting #}
                <div class="spacer"></div>
            </div>
            <div class="flex-container">
                <div class="item-select">
                    <p class="select-title">Kasplats</p>
                    <select name="kasplat_rando_setting"
                            id="kasplat_rando_setting"
                            display_name="Random Kasplat Locations"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="Determines if and how Kasplats are randomized.&#10;-Vanilla: Kasplats are in their vanilla locations.&#10;-Vanilla Locations: Random placement of kasplats between existing spawns.&#10;-Location Shuffle: Random placement of kasplats with new and interesting locations.">
                        <option id="off" selected value="off">
                            Vanilla
                        </option>
                        <option id="vanilla_locations" value="vanilla_locations">
                            Vanilla Locations
                        </option>
                        <option id="location_shuffle" value="location_shuffle">
                            Location Shuffle
                        </option>
                    </select>
                </div>
                <div class="item-select">
                    <p class="select-title">Bananaports</p>
                    <div class="d-flex">
                        <select name="bananaport_placement_rando"
                                id="bananaport_placement_rando"
                                display_name="Random Bananaport Locations"
                                class="form-select"
                                aria-label="Randomization type"
                                data-toggle="tooltip"
                                title="Shuffle the locations of bananaports within each Level.&#10;-Off: Bananaports are in their vanilla locations.&#10;-Vanilla Only: Random placement of bananaports solely within the pool of vanilla locations.&#10;-Half-Vanilla: One bananaport in each pair is vanilla, the other is in a random location.&#10;-On: Both bananaports in each pair are in a random location (with a couple exceptions for technical reasons).">
                            <option id="off" selected value="off">
                                Off
                            </option>
                            <option id="vanilla_only" value="vanilla_only">
                                Vanilla Only
                            </option>
                            <option id="half_vanilla" value="half_vanilla">
                                Half-Vanilla
                            </option>
                            <option id="on" value="on">
                                On
                            </option>
                        </select>
                        <div style="padding: 5px;">
                            {{ list_selector(vanilla_warps, "warp_level_list", "LEVEL SELECTOR", "This will open a popup that will let you customize what levels' warps are in the pool. Any level not selected will have its vanilla warp locations.&#10;This defaults to All levels.", 10, 1) }}
                        {# Remove end </div> as it's included in the macro for formatting #}
                    </div>
                </div>
            </div>
            <div class="flex-container" style="margin-top: 20px;">
                {{ toggle_input("wrinkly_location_rando", "Random Wrinkly Door Locations", "Wrinkly Door Locations are randomized.", False, "Wrinkly Doors") }}
                {{ toggle_input("tns_location_rando", "Random Troff 'n' Scoff Portal Locations", "T&S Portal Locations are randomized.", False, "Troff 'n' Scoff Portals") }}
                {{ toggle_input("vanilla_door_rando", "Vanilla Door Shuffle", "Wrinkly Doors and T&S Portals are shuffled among the vanilla locations.") }}
                {{ toggle_input("dos_door_rando", "Dos' Doors", "Vanilla Door Shuffle with some restrictions:&#10;- One T&S per level&#10;- One hint door in each lobby&#10;- DK Portal Rando enabled") }}
                <div class="item-select">
                    <p class="select-title">DK Portals</p>
                    <select name="dk_portal_location_rando_v2"
                            id="dk_portal_location_rando_v2"
                            display_name="Random DK Portal Locations"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="DK Portal Locations are randomized.">
                        <option id="off" selected value="off">
                            Vanilla
                        </option>
                        <option id="main_only" value="main_only" title="Will only place portals in the main level maps of the 7 levels">
                            Main Maps only
                        </option>
                        <option id="on" value="on">
                            On
                        </option>
                    </select>
                </div>
            </div>
        </div>
            <div class="col border panel">
            <h2 class="title">GLOBAL</h2>
            <div class="flex-container">
                {{ dropdown_multiselector(enemies, "enemies", "Shuffled Enemies", "This will open a popup that will let you customize what enemies appear in the game.&#10;This defaults to All options.", 16, 1) }}
                {{ dropdown_multiselector(minigames, "minigames_list", "Shuffled Bonus Barrels", "This will open a popup that will let you customize what Bonus Games are in the pool.&#10;This defaults to All minigames.", 18, 1) }}
                {{ toggle_input("disable_hard_minigames", "Disable Hard Minigames", "Disables harder minigames.") }}
                {{ toggle_input("enemy_speed_rando", "Shuffle Enemy Speed", "Enemy speeds are randomized.") }}
                {{ toggle_input("randomize_enemy_sizes", "Random Enemy Size", "The size of enemies is randomized.") }}
                {{ toggle_input("boss_location_rando", "Shuffle Boss Location", "The boss you can get in a level is different than normal.") }}
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="Simian Slam switches will be adjusted to match the level order so that tougher switches will always be in later levels.&#10;The first four levels will have green switches, the next two will have blue and the final level will have red switches.&#10;In LZR, these are assigned to random levels with no regard for level order.">
                        <input class="form-check-input"
                                type="checkbox"
                                id="switchsanity_enabled"
                                name="switchsanity_enabled"
                                display_name="Switchsanity"
                                value="True"/>
                        Switchsanity
                    </label>
                    <input class="customize"
                        type="button"
                        href="#"
                        id="switchModalActivator"
                        data-bs-toggle="modal"
                        data-bs-target="#switchModal"
                        data-toggle="modal"
                        title="Customize the switch requirements for each switch in the game."/>
                </div>
                <div class="modal fade" id="switchModal" tabindex="-1" aria-labelledby="switchModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title title" id="switchModalLabel">Switchsanity Requirements</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <ul class="nav nav-tabs">
                                    <li class="nav-item">
                                        <a id="ssanity-isles-tab" data-bs-toggle="tab" data-bs-target="#ssanity-isles-tab-page" type="button" role="tab" aria-controls="ssanity-isles-tab-page" class="nav-link active" aria-current="page">Isles</a>
                                    </li>
                                    <li class="nav-item">
                                        <a id="ssanity-japes-tab" data-bs-toggle="tab" data-bs-target="#ssanity-japes-tab-page" type="button" role="tab" aria-controls="ssanity-japes-tab-page" class="nav-link">Japes</a>
                                    </li>
                                    <li class="nav-item">
                                        <a id="ssanity-aztec-tab" data-bs-toggle="tab" data-bs-target="#ssanity-aztec-tab-page" type="button" role="tab" aria-controls="ssanity-aztec-tab-page" class="nav-link">Aztec</a>
                                    </li>
                                    <li class="nav-item">
                                        <a id="ssanity-factory-tab" data-bs-toggle="tab" data-bs-target="#ssanity-factory-tab-page" type="button" role="tab" aria-controls="ssanity-factory-tab-page" class="nav-link">Factory</a>
                                    </li>
                                    <li class="nav-item">
                                        <a id="ssanity-galleon-tab" data-bs-toggle="tab" data-bs-target="#ssanity-galleon-tab-page" type="button" role="tab" aria-controls="ssanity-galleon-tab-page" class="nav-link">Galleon</a>
                                    </li>
                                    <li class="nav-item">
                                        <a id="ssanity-fungi-tab" data-bs-toggle="tab" data-bs-target="#ssanity-fungi-tab-page" type="button" role="tab" aria-controls="ssanity-fungi-tab-page" class="nav-link">Forest</a>
                                    </li>
                                </ul>
                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade show active" id="ssanity-isles-tab-page" role="tabpanel" aria-labelledby="ssanity-isles-tab" tabindex="0">
                                        <div class="container-fluid">
                                            <div class="row row-cols-2">
                                                {{ switchsanity_option("To top of Kroc Isle", "switchsanity_switch_isles_to_kroc_top", "mport_to_helm", "tiny") }}
                                                {{ switchsanity_option("In Helm Lobby", "switchsanity_switch_isles_helm_lobby", "gone_to_helm", "chunky") }}
                                                {{ switchsanity_option("Aztec Lobby Back Room", "switchsanity_switch_isles_aztec_lobby_back_room", "guns", "tiny") }}
                                                {{ switchsanity_option("Forest Lobby Fairy Door", "switchsanity_switch_isles_fungi_lobby_fairy", "guns", "tiny") }}
                                                {{ switchsanity_option("Spawn Cabin Isles Rocketbarrel", "switchsanity_switch_isles_spawn_rocketbarrel", "instruments", "lanky") }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="ssanity-japes-tab-page" role="tabpanel" aria-labelledby="ssanity-japes-tab" tabindex="0">
                                        <div class="container-fluid">
                                            <div class="row row-cols-2">
                                                {{ switchsanity_option("Free Kong", "switchsanity_switch_japes_free_kong", "guns", "donkey") }}
                                                {{ switchsanity_option("To Hive Area", "switchsanity_switch_japes_to_hive", "guns", "tiny") }}
                                                {{ switchsanity_option("To Starting Tunnel Cavern", "switchsanity_switch_japes_to_cavern", "guns", "diddy") }}
                                                {{ switchsanity_option("To Painting Room", "switchsanity_switch_japes_to_painting_room", "guns", "diddy") }}
                                                {{ switchsanity_option("To Rambi", "switchsanity_switch_japes_to_rambi", "guns", "donkey") }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="ssanity-aztec-tab-page" role="tabpanel" aria-labelledby="ssanity-aztec-tab" tabindex="0">
                                        <div class="container-fluid">
                                            <div class="row row-cols-2">
                                                {{ switchsanity_option("Tiny Temple Kong Freeing", "switchsanity_switch_aztec_free_tiny", "free_tiny", "diddy") }}
                                                {{ switchsanity_option("Llama Temple Kong Freeing", "switchsanity_switch_aztec_free_lanky", "free_lanky", "donkey") }}
                                                {{ switchsanity_option("Starting Tunnel Kasplat Room", "switchsanity_switch_aztec_to_kasplat_room", "guns", "donkey") }}
                                                {{ switchsanity_option("Door to Connector Tunnel", "switchsanity_switch_aztec_to_connector_tunnel", "instruments", "diddy") }}
                                                {{ switchsanity_option("Llama Temple Entry (Front)", "switchsanity_switch_aztec_llama_front", "guns", "donkey") }}
                                                {{ switchsanity_option("Llama Temple Entry (Side)", "switchsanity_switch_aztec_llama_side", "guns", "lanky") }}
                                                {{ switchsanity_option("Llama Temple Entry (Back)", "switchsanity_switch_aztec_llama_back", "guns", "tiny") }}
                                                {{ switchsanity_option("Door to Sand Tunnel", "switchsanity_switch_aztec_sand_tunnel", "kong", "donkey") }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="ssanity-factory-tab-page" role="tabpanel" aria-labelledby="ssanity-factory-tab" tabindex="0">
                                        <div class="container-fluid">
                                            <div class="row row-cols-2">
                                                {{ switchsanity_option("Free Kong", "switchsanity_switch_factory_free_kong", "kong", "lanky") }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="ssanity-galleon-tab-page" role="tabpanel" aria-labelledby="ssanity-galleon-tab" tabindex="0">
                                        <div class="container-fluid">
                                            <div class="row row-cols-2">
                                                {{ switchsanity_option("Lighthouse Switches", "switchsanity_switch_galleon_to_lighthouse_side", "guns", "donkey") }}
                                                {{ switchsanity_option("Shipwreck Switches", "switchsanity_switch_galleon_to_shipwreck_side", "guns", "diddy") }}
                                                {{ switchsanity_option("Cannon Game Switches", "switchsanity_switch_galleon_to_cannon_game", "guns", "chunky") }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="ssanity-fungi-tab-page" role="tabpanel" aria-labelledby="ssanity-fungi-tab" tabindex="0">
                                        <div class="container-fluid">
                                            <div class="row row-cols-2">
                                                {{ switchsanity_option("Yellow Tunnel", "switchsanity_switch_fungi_yellow_tunnel", "guns", "lanky") }}
                                                {{ switchsanity_option("Green Tunnel (Clock-side pair)", "switchsanity_switch_fungi_green_tunnel_near", "guns", "tiny") }}
                                                {{ switchsanity_option("Green Tunnel (Worm-side pair)", "switchsanity_switch_fungi_green_tunnel_far", "guns", "chunky") }}
                                            </div>
                                        </div>
                                    </div>
                                </div>                            
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" id="ssanity-reset-vanilla">Reset to Vanilla</button>
                                <button type="button" class="btn btn-secondary" id="ssanity-reset-random">Set to Random</button>
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="The order of KRools boxing match will randomly order the sequence.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="krool_phase_order_rando"
                                display_name="Shuffle K. Rool Phases"
                                value="True"/>
                        Shuffle K Rool Phases
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="The order of the Helm minigame rooms will randomly order the sequence.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="helm_phase_order_rando"
                                display_name="Shuffle Helm Rooms"
                                value="True"/>
                        Shuffle Helm Rooms
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="The kong you use to fight a boss is different instead of what is normally required.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="boss_kong_rando"
                                id="boss_kong_rando"
                                display_name="Shuffle Boss Kong Required"
                                value="True"/>
                        Shuffle Boss Kong Required
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="K. Rool phases can be found in the T&S, and T&S bosses can be encountered as an endgame phase.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="krool_in_boss_pool"
                                id="krool_in_boss_pool"
                                display_name="Shuffle Boss Kong Required"
                                value="True"/>
                        K Rool Phases as Bosses
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="All Replenishables in the game are randomized.&#10;*Homing Ammo, Regular Ammo, Oranges, Film, Crystals">
                        <input class="form-check-input"
                                type="checkbox"
                                name="randomize_pickups"
                                display_name="Randomize Pickups"
                                value="True"/>
                        Randomize Pickups
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="Shuffle the locations of shops (including Snides) within each Level/Isles.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="shuffle_shops"
                                id="shuffle_shops"
                                display_name="Shuffle Shop Locations"
                                value="True"/>
                        Shuffle Shop Locations
                    </label>
                </div>
                <div class="form-check form-switch item-switch">
                    <label data-toggle="tooltip"
                            title="Randomizes the location you spawn in when starting a new file and when selecting the 'Exit to Spawn' option.">
                        <input class="form-check-input"
                                type="checkbox"
                                name="random_starting_region"
                                id="random_starting_region"
                                display_name="Random Starting Location"
                                value="True"/>
                        Random Starting Location
                    </label>
                </div>
                <div class="spacer"></div>
            </div>
            <div class="flex-container">
                <div class="item-select">
                    <p class="select-title">Entrance Randomizer</p>
                    <select name="level_randomization"
                            id="level_randomization"
                            display_name="Entrance Randomizer"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="Determines how entrances are randomized and placed.&#10;-Level Order: Randomize only the order that the levels are in.&#10;-Complex Level Order: Same as 'Level Order', but the order of level entry won't be linear. Additionally, other protections that regular Level Order enforces to make it better to play will be removed.&#10;-Loading Zones: Randomize every entrance except for Helm/Helm Lobby.&#10;-Decoupled Loading Zones: Randomize every entrance except for Helm/Helm Lobby. Going back through a entrance will take you somewhere else.&#10;-Vanilla: All entrances are the same as the base game.">
                        <option selected value="level_order">
                            Level Order
                        </option>
                        <option value="level_order_complex">
                            Complex Level Order
                        </option>
                        <option value="loadingzone">
                            Loading Zones
                        </option>
                        <option value="loadingzonesdecoupled">
                            Decoupled Loading Zones
                        </option>
                        <option value="vanilla">
                            Vanilla
                        </option>
                    </select>
                    <div class="form-check form-switch" style="padding-top:10px;">
                        <label data-toggle="tooltip"
                                style="font-size:14px;"
                                title="Shuffle the location of Hideout Helm. If enabled, Helm and Helm Lobby will be in random locations.">
                            <input class="form-check-input"
                                    type="checkbox"
                                    name="shuffle_helm_location"
                                    id="shuffle_helm_location"
                                    display_name="Shuffle Helm Location / Include Helm"
                                    value="True"/>
                            <span id="shuffle_helm_location_label">Shuffle Helm Location</span>
                        </label>
                    </div>
                </div>
                <div class="item-select">
                    <p class="select-title">Random Shop Prices</p>
                    <select name="random_prices"
                            id="random_prices"
                            display_name="Random Shop Prices"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="All prices in shops are randomized to a random number.&#10;-Vanilla: Same cost as base game.&#10;-Free: All moves are free.&#10;-Low: Moves cost 1-4 coins most of the time. (Avg: 2.5)&#10;-Medium: Moves cost 1-8 coins most of the time. (Avg: 4.5)&#10;-High: Moves cost 1-12 coins most of the time. (Avg: 6.5)&#10;-Extreme: Moves cost 10+ coins most of the time. (Avg: 11, starting Shockwave required!)&#10;WARNING: Extreme Prices is an enormous strain on coin logic and is VERY difficult to fill with. Only pick this if you're confident your settings give access to enough coins early.">
                        <option value="vanilla">
                            Vanilla
                        </option>
                        <option value="free">
                            Free
                        </option>
                        <option selected value="low">
                            Low
                        </option>
                        <option value="medium">
                            Medium
                        </option>
                        <option value="high">
                            High
                        </option>
                        <option id="extreme_price_option" value="extreme">
                            Extreme
                        </option>
                    </select>
                </div>
                <div class="item-select">
                    <p class="select-title">Random Puzzle Solutions</p>
                    <select name="puzzle_rando_difficulty"
                            id="puzzle_rando_difficulty"
                            display_name="Random Puzzle Solutions"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="Shuffles the solutions to various puzzles in the game.">
                        <option value="off">
                            Off
                        </option>
                        <option value="easy">
                            Easy
                        </option>
                        <option selected value="medium">
                            Medium
                        </option>
                        <option value="hard">
                            Hard
                        </option>
                        <option value="chaos" title="Values picked can be any range between easy, medium and hard">
                            Chaos
                        </option>
                    </select>
                </div>
                <div class="item-select">
                    <p class="select-title">Cross-Map Bananaports</p>
                    <div class="customize-select">
                    <select name="bananaport_rando"
                            id="bananaport_rando"
                            display_name="Cross-Map Bananaports"
                            class="form-select"
                            aria-label="Randomization type"
                            data-toggle="tooltip"
                            title="Random mappings of bananaport locations.">
                        <option id="off" selected value="off">
                            Off
                        </option>
                        <option id="crossmap_coupled" value="crossmap_coupled">
                            Coupled
                        </option>
                        <option id="crossmap_decoupled" value="crossmap_decoupled">
                            Decoupled
                        </option>
                    </select>
                </div>
            </div>
        </div>
        </div>
    </div>
</div>
<script>
    $(function() {
        $('[data-toggle="tooltip"]').tooltip({
            trigger: 'hover'
        })
    });
</script>
